# 1 工具链
工具链是构建Linux内核映像的一组程序。链的概念源于一个工具的输出作为另一个进程的输入这一特点。
工具链包含 编译程序、汇编程序和链接程序。

# 2 内核源代码的构建
源代码分为与体系相关的部分和与体系无关的部分。
arch目录包含所有与体系相关的代码。该目录下列出了支持的体系结构。

## 2.1 体系结构无关的代码
- crypto 加密API的代码
- drivers 设备驱动程序的代码
- fs VFS及Linux支持的文件系统的代码
- include 头文件代码 以asm开头的目录用于存储特定体系结构的头文件。
- ipc 进程间通信的代码 
- init 引导程序以及初始化代码中与体系无关的部分
- kernel 内核空间代码
- lib 辅助函数代码
- mm 内存管理代码 
- net 支持各种网络协议的代码
- security 安全子系统的代码
- sound 支持音频系统的代码

## 2.2 体系相关的代码

## 2.3 文件和目录杂项
- COPYING GPL许可证
- CREDITS 对Linux作用贡献的人名
- MAINTAINERS 提交内核发动时涉及的维护人员及说明
- README 发布说明
- Documentation Linux相关文档
- scripts 构建内核的过程中可以使用的功能及脚本

## 2.4 内核配置
利用内核配置工具自动生成.config的内核配置文件。每个内核配置选项都有相关的名字和值。
其中名字的形式为CONFIG_<NAME>。
变量可以有三个值: y(yes) n(no) m(module)  m表示该选项会以独立于内核源代码的模块的方式编译到内核中。
选项是在调用 make xconfig 时，由qconf配置工具提供。
调用 make defconfig 时按默认生成配置文件

## 2.5 内核构建
调用 make 构建内核，当构建结束时，就会产生一个内核映像文件。
因为内核是通过zlib算法进行压缩的，故可启动的压缩内核映像文件被称作 zImage 或 vmlinuz。
